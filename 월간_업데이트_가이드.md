# 📅 월간 데이터 업데이트 가이드

## 매월 해야 할 작업 (3단계)

### ✅ STEP 1: CSV 파일 교체
새로운 월 데이터가 추가된 CSV 파일들을 준비합니다.

```bash
# 새 CSV 파일들을 price_data 폴더로 복사
# (기존 파일들은 자동으로 덮어씌워집니다)
cp 새로운데이터/*.csv "C:\Users\KBLEE\OneDrive\바탕 화면\home_page_ml\data\price_data\"
```

**중요**: CSV 파일명은 `종목코드_영문명.csv` 형식을 유지하세요.
- 예: `005930_samsung.csv`, `000660_skhynix.csv`

---

### ✅ STEP 2: 자동 업데이트 실행

**방법 A: 배치 파일 실행 (가장 간편)**
```bash
# update_data.bat 파일을 더블클릭하거나 실행
update_data.bat
```

**방법 B: Python 스크립트 직접 실행**
```bash
cd "C:\Users\KBLEE\OneDrive\바탕 화면\home_page_ml"
python generate_price_list.py
```

이 스크립트가 자동으로:
- ✅ 모든 CSV 파일을 스캔
- ✅ 각 파일의 시작일, 종료일, 개월 수를 자동 계산
- ✅ `price-data.html` 파일을 자동 생성/업데이트
- ✅ 전체 ZIP 파일 생성 (`data/price_data_all.zip`)

---

### ✅ STEP 3: 웹사이트 업로드 (호스팅 사용 시)

GitHub Pages를 사용하는 경우:
```bash
git add .
git commit -m "데이터 업데이트: 2025년 12월"
git push
```

Netlify/Vercel을 사용하는 경우:
- 자동 배포되므로 아무것도 할 필요 없음

---

## 🔧 종목명 한글 매핑 추가

새로운 종목을 추가하거나 종목명을 수정하려면:

**`stock_names_mapping.csv` 파일 편집:**
```csv
종목코드,종목명
005930,삼성전자
000660,SK하이닉스
035420,NAVER
035720,카카오
새종목코드,새종목명  ← 여기에 추가
```

---

## 🎯 요약: 매월 해야 할 일

1. **CSV 파일 교체**: 새 데이터를 `data/price_data/` 폴더에 복사
2. **자동 업데이트**: `update_data.bat` 실행 (또는 `python generate_price_list.py`)
3. **웹사이트 업로드**: Git push 또는 수동 업로드

**끝!** HTML 파일을 수동으로 편집할 필요가 없습니다.

---

## 📋 체크리스트

매월 데이터 업데이트 시:

- [ ] 새 CSV 파일들을 `data/price_data/` 폴더에 복사
- [ ] `update_data.bat` 실행 (또는 Python 스크립트)
- [ ] 브라우저에서 `price-data.html` 열어서 확인
- [ ] 날짜와 개월 수가 자동으로 업데이트되었는지 확인
- [ ] ZIP 파일이 생성되었는지 확인 (`data/price_data_all.zip`)
- [ ] 웹사이트에 업로드 (Git push 또는 수동 업로드)

---

## ❓ 문제 해결

### Python이 설치되어 있지 않은 경우
1. https://www.python.org/downloads/ 에서 Python 다운로드
2. 설치 시 "Add Python to PATH" 체크
3. `pip install pandas` 명령으로 pandas 설치

### 스크립트 오류가 발생하는 경우
1. pandas 설치 확인: `pip install pandas`
2. CSV 파일 형식 확인 (Date, Open, High, Low, Close, Volume 컬럼 필수)
3. CSV 파일명 형식 확인 (`종목코드_영문명.csv`)

### 한글이 깨지는 경우
- CSV 파일을 UTF-8 인코딩으로 저장하세요
- Excel에서는 "CSV UTF-8(쉼표로 분리)" 형식으로 저장

---

## 🚀 고급 기능

### 모든 종목 자동 다운로드
독자들이 개별 파일 대신 전체를 한번에 다운로드할 수 있도록:
- `data/price_data_all.zip` 파일이 자동 생성됨
- "전체 데이터 한번에 다운로드" 버튼으로 제공

### 검색 기능
- 독자들은 종목명이나 코드로 실시간 검색 가능
- JavaScript가 자동으로 처리하므로 추가 작업 불필요
